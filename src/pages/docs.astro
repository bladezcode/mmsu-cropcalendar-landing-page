---
import ContentLayout from "../layouts/ContentLayout.astro";
import { Content as DocContent } from "../content/documentation/docs.mdx";
---

<ContentLayout title="Documentation">
    <div class="doc" slot="contentstyle">
        <div class="wrapper">
            <div class="content">
                <h1>Documentation</h1>
                <DocContent />
            </div>
            <div class="wrapperaside">
                <aside>
                    <h3>On this page</h3>
                    <ul>
                        <li>
                            <a href="#section-1">Section 1</a>
                        </li>
                        <li>
                            <a href="#section-2">Section 2</a>
                        </li>
                        <li>
                            <a href="#section-3">Section 3</a>
                        </li>
                        <li>
                            <a href="#section-4">Section 4</a>
                        </li>
                    </ul>
                </aside>
            </div>
        </div>
    </div>
</ContentLayout>
<style lang="scss">
    .content {
        margin-top: 1rem;
        justify-content: center;
        h1 {
            font-size: clamp(1.5rem, 2vw + 1.5rem, 3rem); // 3rem;
            border-bottom: 1px solid #b1b1b1;
            padding:1rem 0;
        }
    }

    .wrapperaside {
        height: 100%;
        border-left: 1px solid #b1b1b1;
    }
    .doc {
        min-height: 600vh;
        display: flex;
        justify-content: center;
    }
    .wrapper {
        max-width: 90rem;
        flex: 1;
        display: grid;
        grid-template-columns: 3fr 1fr;
        padding: 0 1.25rem;
    }
    aside {
        h3 {
            font-size: 1.5rem;
            font-weight: 600;
        }
        padding: 2rem;
        margin-top: 4rem;
        position: sticky;
        top: 6rem;
        ul li,
        a {
            text-decoration: none;
            list-style-type: none;
            color: rgb(56, 56, 56);
            margin-top: 1rem;
        }
    }
    @media screen and (max-width: 600px) {
        .wrapperaside {
            display: none
        }
    }
</style>

<script>
    document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", (e) => {
            e.preventDefault();

            const targetId = (anchor.getAttribute("href") as string).substring(
                1
            ); // Type assertion
            const targetElement = document.getElementById(targetId)!;

            const yOffset = -200; // Adjust as needed to position the viewport
            window.scrollTo({
                top:
                    targetElement.getBoundingClientRect().top +
                    window.scrollY +
                    yOffset,
                behavior: "smooth",
            });
        });
    });
</script>
